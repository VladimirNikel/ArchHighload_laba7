################################## INCLUDES ###################################

# Include one or more other config files here.  This is useful if you
# have a standard template that goes to all Redis servers but also need
# to customize a few per-server settings.  Include files can include
# other files, so use this wisely.
#
# Note that option "include" won't be rewritten by command "CONFIG REWRITE"
# from admin or Redis Sentinel. Since Redis always uses the last processed
# line as value of a configuration directive, you'd better put includes
# at the beginning of this file to avoid overwriting config change at runtime.
#
# If instead you are interested in using includes to override configuration
# options, it is better to use include as the last line.
#
# include /path/to/local.conf
# include /path/to/other.conf

bind 0.0.0.0
protected-mode no
port 5022
tcp-backlog 511
tcp-keepalive 300
save 60 10
rdbcompression yes
dbfilename dump.rdb
dir ./

################################# REPLICATION #################################

####не уверен в этом
replica-serve-stale-data yes
replica-read-only yes
repl-diskless-sync no
repl-diskless-sync-delay 5
repl-diskless-load disabled
repl-disable-tcp-nodelay no
replica-priority 100
####не уверен в этом

replica-announce-ip 0.0.0.0
replica-announce-port 5032

############################## APPEND ONLY MODE ###############################

appendonly no

################################ REDIS CLUSTER  ###############################

cluster-enabled yes
cluster-config-file nodes-5022.conf
cluster-node-timeout 15000

########################## CLUSTER DOCKER/NAT support  ########################

cluster-announce-ip 0.0.0.0
cluster-announce-port 5022
